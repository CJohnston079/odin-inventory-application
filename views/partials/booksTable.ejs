<div class="table">
	<table class="table__element">
		<caption class="table__caption">
			<%= typeof caption !== 'undefined' ? caption : "" %>
		</caption>
		<colgroup>
			<col class="table__col table__col-title" />
			<col class="table__col table__col-author" />
			<col class="table__col table__col-year" />
			<col class="table__col table__col-genres" />
		</colgroup>
		<thead class="table__header">
			<tr class="table__row table__row--header">
				<th class="table__header-cell">Title</th>
				<th class="table__header-cell">Author</th>
				<th class="table__header-cell">Published</th>
				<th class="table__header-cell">Genres</th>
			</tr>
		</thead>
		<tbody class="table__body">
			<% books.map((book) => { %>
			<tr class="table__row">
				<td class="table__cell">
					<a href="/books/<%= book.id %>/<%= book.slug %>" class="table__link"><%= book.title %></a>
				</td>
				<td class="table__cell">
					<a href="/authors/<%= book.author_id %>/<%= book.author_slug %>" class="table__link">
						<%= book.author %>
					</a>
				</td>
				<td class="table__cell text-centre">
					<a
						href="/decades/<%= Math.floor(book.publication_year / 10) + '0s' %>"
						class="table__link"
					>
						<%= book.publication_year %>
					</a>
				</td>
				<%- include("./genresColumn", { genres: book.genres }) %>
			</tr>
			<% }) %>
		</tbody>
	</table>
</div>
